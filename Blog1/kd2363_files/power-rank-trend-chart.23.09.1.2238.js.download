"use strict";define(["jquery","chartjs"],function(a,t){function e(t){var e=[],r=[],n=[],i=[];a(".power-rank-trend-data").each(function(){var t=a(this).data("date"),r=a(this).data("power");r>0&&(n.push(r),e.push(t))}),a(".power-imperium-trend-data").each(function(){var t=a(this).data("date"),e=a(this).data("power");e>0&&(i.push(e),r.push(t))}),t.datasets[0].data=n,t.datasets[1].data=i,t.labels=e}return{load:function(){function r(a){a+="";for(var t=a.split("."),e=t[0],r=t.length>1?"."+t[1]:"",n=/(\d+)(\d{3})/;n.test(e);)e=e.replace(n,"$1,$2");return e+r}var n={labels:[],datasets:[{label:"Total Power",borderColor:"rgba(75,192,192, 1)",backgroundColor:"rgba(75,192,192, 0.5)",borderWidth:1,pointRadius:1,fill:!1,data:[]},{label:"Imperium Power",borderColor:"rgba(255, 153, 0, 1)",backgroundColor:"rgba(255, 153, 0, 0.5)",borderWidth:1,pointRadius:1,fill:!1,data:[]}]},i=a("#powerRankTrendChart").data("maxtickslimit"),l=a("#powerRankTrendChart").data("legend"),o=document.getElementById("powerRankTrendChart").getContext("2d"),d={animation:!1,spanGaps:!0,legend:{display:!0===l,position:"top"},scales:{xAxes:[{ticks:{callback:function(a,t,e){return a}},scaleLabel:{display:!0,labelString:"Date"}}],yAxes:[{ticks:{stepSize:1e8,maxTicksLimit:i,callback:function(a,t,e){return a/1e9+"B"}},scaleLabel:{display:!0,labelString:"1B = 1,000,000,000 Power"}}]},tooltips:{callbacks:{title:function(a){return"Date: "+this._data.labels[a[0].index]},label:function(a,t){return(0===a.datasetIndex?"Total ":"Imperium ")+"Power: "+r(a.yLabel)+" "}}}},s=new t(o,{type:"line",data:n,options:d});a("body");e(n),s.update()}()}});